<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
</head>
<body>
<script>
    // fetch('http://localhost:3000/api/v1/products') 
    // fetch returns a promise object which is thenable and can be chained with then() method to get the response object which is also a promise object 
    // fetch('http://localhost:3000/api/v1/products').then(response => {
    //   console.log(response);
    //   return response.json();
    // }).then(data => {
    //   console.log(data);
    // }).catch(err => {
    //   console.log(err);
    // });

    const url = 'http://localhost:3000/api/v1/products';
    const options = {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      }
    };

    /**
     * @param {string} url
     * @param {object} options
     * @returns {Promise<any>}
     */
     const request = (url, options) => {
      return new Promise((resolve, reject) => {
        fetch(url, options)
          .then(response => {
            if (response.ok) {
              return response.json();
            } else {
              throw new Error(response.statusText);
            }
          })
          .then(data => {
            resolve(data);
          })
          .catch(err => {
            reject(err);
          });
      });
    };
    // (async ()=> {
    //   const response = await fetch('http://localhost:3000/api/v1/products');
    //   const data = await response.json();
    //   console.log(data);
    // })();
  </script>
</body>
</html>