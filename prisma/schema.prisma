// *** DO NOT EDIT. GENERATED BY PRISMIX. ***
datasource db {
  provider = "postgresql"
  url      = "postgresql://..."
}

generator client {
  provider = "prisma-client-js"
}

model Account {
  id         Int         @id @default(autoincrement())
  email      String      @unique
  password   String
  directions Direction[] @relation(name: "AccountToDirection")
  wishLists  WishList[]  @relation(name: "AccountToWishList")

  @@map("account")
}

model Category {
  id       Int       @id @default(autoincrement())
  name     String
  products Product[] @relation(name: "CategoryToProduct")

  @@map("category")
}

model Direction {
  id        Int     @id @default(autoincrement())
  firstName String
  LastName  String
  address   String
  city      String
  country   String
  zipCode   String
  isDefault Boolean @default(true)
  accountId Int
  account   Account @relation(name: "AccountToDirection", fields: [accountId], references: [id])
  orders    Order[] @relation(name: "DirectionToOrder")

  @@map("direction")
}

model Order {
  id                Int               @id @default(autoincrement())
  createdAt         DateTime          @default(now())
  directionId       Int
  direction         Direction         @relation(name: "DirectionToOrder", fields: [directionId], references: [id])
  products          Product[]         @relation(name: "OrderToProduct")
  paymentStatus     PaymentStatus     @default(Waiting)
  fulfillmentStatus FulfillmentStatus @default(None)

  @@map("order")
}

model Product {
  id         Int        @id @default(autoincrement())
  orders     Order[]    @relation(name: "OrderToProduct")
  name       String
  price      Decimal
  quantity   Int
  image      String
  categoryId Int
  category   Category   @relation(name: "CategoryToProduct", fields: [categoryId], references: [id])
  wishLists  WishList[] @relation(name: "ProductToWishList")

  @@map("product")
}

model WishList {
  id       Int       @id @default(autoincrement())
  products Product[] @relation(name: "ProductToWishList")
  accounts Account[] @relation(name: "AccountToWishList")

  @@map("wishList")
}

enum PaymentStatus {
  Waiting
  Paid
  Rejected
}

enum FulfillmentStatus {
  None
  Preparing
  Delivering
  Fulfilled
}
